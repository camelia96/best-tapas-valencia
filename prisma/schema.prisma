generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model bares {
  id                   Int      @id(map: "bar_pkey") @default(autoincrement()) @db.SmallInt
  created_at           DateTime @default(now()) @db.Timestamptz(6)
  nombre               String   @db.VarChar
  direccion            String?  @db.VarChar
  web_url              String?  @db.VarChar
  coordinadas_latitud  Float?
  coordinadas_longitud Float?
  barrio_id            Int      @db.SmallInt
  barrios              barrios  @relation(fields: [barrio_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  tapas                tapas[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model barrios {
  id         Int      @id @default(autoincrement()) @db.SmallInt
  created_at DateTime @default(now()) @db.Timestamptz(6)
  nombre     String   @db.VarChar
  bares      bares[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model tags {
  id                    BigInt                  @id @default(autoincrement())
  created_at            DateTime                @default(now()) @db.Timestamptz(6)
  nombre                String?                 @db.VarChar
  tags_tapas tags_tapas[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model tags_tapas {
  id                BigInt           @id @default(autoincrement())
  created_at        DateTime         @default(now()) @db.Timestamptz(6)
  tapa_id           Int?             @db.SmallInt
  caracteristica_id BigInt?
  tags   tags? @relation(fields: [caracteristica_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  tapas             tapas?           @relation(fields: [tapa_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model categorias {
  id         Int      @id @default(autoincrement()) @db.SmallInt
  created_at DateTime @default(now()) @db.Timestamptz(6)
  nombre     String   @db.VarChar
  tapas      tapas[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model profiles {
  id    String  @id @db.Uuid
  email String? @db.VarChar(256)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model tapas {
  id                    Int                     @id @default(autoincrement()) @db.SmallInt
  created_at            DateTime                @default(now()) @db.Timestamptz(6)
  nombre                String                  @db.VarChar
  precio                Float
  descripcion           String?                 @db.VarChar
  imagen_url            String?                 @db.VarChar
  vistos                Int?
  puntuacion            Int?
  bar_id                Int                     @db.SmallInt
  categoria_id          Int                     @db.SmallInt
  tags_tapas tags_tapas[]
  bares                 bares                   @relation(fields: [bar_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  categorias            categorias              @relation(fields: [categoria_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
